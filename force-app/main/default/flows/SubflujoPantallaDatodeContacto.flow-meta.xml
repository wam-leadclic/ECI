<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <assignments>
        <description>Indicamos que se debe mostrar el mensaje de error para número de documento al asignarle a esta variable el valor true</description>
        <name>mostrarErrorNumeroDocumentoToTrue</name>
        <label>Set Mostrar Error Numero Documento a True</label>
        <locationX>2162</locationX>
        <locationY>1490</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorNumeroDocumento</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_PasaporteValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Desactiva las marcas de los errores para que no aparezcan sin necesidad</description>
        <name>Set_DesactivaMarcasErrores</name>
        <label>Set Desactiva Marcas errores</label>
        <locationX>1634</locationX>
        <locationY>866</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorEmailDuplicado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorMovilDuplicado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorNumDocumentoDuplicado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorNumeroDocumento</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorPasaporte</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorTelefonoDuplicado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorTelefonos</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorTipoDocumento</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorEmailValidacion</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorNumeroDocumentoInvalido</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>isValidatedCheck</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Se asignan los valores para las variables de las cabeceras.</description>
        <name>Set_Headers</name>
        <label>Set_Headers</label>
        <locationX>446</locationX>
        <locationY>1406</locationY>
        <assignmentItems>
            <assignToReference>Var_INOUT_Heading</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenFirstName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_INOUT_Heading</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue> </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_INOUT_Heading</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenLastName</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>ActualizarLeadOContacto</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asignamos true a la variable para que muestre el mensaje de error</description>
        <name>Set_MostrarErrorEmailDuplicadoToTrue</name>
        <label>Set Mostrar Error Email Duplicado a True</label>
        <locationX>1370</locationX>
        <locationY>1514</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorEmailDuplicado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_PhoneDuplicado</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asignamos true a la variable para que muestre el mensaje de error de Email no validado</description>
        <name>Set_MostrarErrorEmailTrue</name>
        <label>Set Mostrar Error Email True</label>
        <locationX>2426</locationX>
        <locationY>2090</locationY>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorEmailValidacion</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>S01_PantallaDatoContacto</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asignamos true a la variable para que mostrar el mensaje de error</description>
        <name>Set_MostrarErrorMovilDuplicadoToTrue</name>
        <label>Set Mostrar Error Movil Duplicado a True</label>
        <locationX>1370</locationX>
        <locationY>2114</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorMovilDuplicado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_DocumentoDuplicado</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asignamos true a la variable para que muestre el mensaje de error</description>
        <name>Set_MostrarErrorNumDocumentoDuplicadoToTrue</name>
        <label>Set Mostrar Error NumDocumento Duplicado a True</label>
        <locationX>1370</locationX>
        <locationY>2414</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorNumDocumentoDuplicado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>S01_PantallaDatoContacto</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Marcar la variable que habilita el mensaje de error de número de documento inválido</description>
        <name>Set_MostrarErrorNumeroDocumentoInvalido</name>
        <label>Set Mostrar Error Numero Documento Invalido</label>
        <locationX>314</locationX>
        <locationY>1838</locationY>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorNumeroDocumentoInvalido</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>S01_PantallaDatoContacto</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Marcar la variable que habilita el mensaje de error de número de documento inválido</description>
        <name>Set_MostrarErrorNumeroDocumentoInvalido_Validation</name>
        <label>Set Mostrar Error Numero Documento Invalido</label>
        <locationX>2426</locationX>
        <locationY>1490</locationY>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorNumeroDocumentoInvalido</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_PasaporteValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asignamos False a la variable para que no muestre el mensaje de error de pasaporte</description>
        <name>Set_MostrarErrorPasaporteFalse</name>
        <label>Set Mostrar Error Pasaporte False</label>
        <locationX>2426</locationX>
        <locationY>1790</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorPasaporte</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_EmailValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MostrarErrorPasaporteTrue</name>
        <label>Set Mostrar Error Pasaporte True</label>
        <locationX>2162</locationX>
        <locationY>1790</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorPasaporte</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_EmailValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asignamos true a la variable para que muestre el mensaje de error</description>
        <name>Set_MostrarErrorPhoneDuplicadoToTrue</name>
        <label>Set Mostrar Error Phone Duplicado a True</label>
        <locationX>1370</locationX>
        <locationY>1814</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorTelefonoDuplicado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_MobilPhoneDuplicado</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Indicamos que se debe mostrar el mensaje de error de los teléfonos cambiando el valor de esta variable a true</description>
        <name>Set_MostrarErrorTelefonosTrue</name>
        <label>Set MostrarErrorTelefonos True</label>
        <locationX>2382</locationX>
        <locationY>1190</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorTelefonos</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_TipoNumeroDocumentoValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Indicamos que se debe mostrar el mensaje de error para tipo de documento asignandole a esta variable el valor true</description>
        <name>Set_MostrarErrorTipoDocumentoToTrue</name>
        <label>Set Mostrar Error Tipo Documento a true</label>
        <locationX>1898</locationX>
        <locationY>1490</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorTipoDocumento</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_PasaporteValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_PriorDocumentTypeLead</name>
        <label>Set_PriorDocumentTypeLead</label>
        <locationX>1502</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>priorDocumentType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>EntradaDocumentType</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>priorDocumentNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>EntradaPersonalDocument</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>S01_PantallaDatoContacto</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asigna los valores de los campos del formulario a las variables de entrada. Esto se hace para que las variables entrada tengan el valor definitivo y trabajar con ellas. Además para que el botón atrás tenga los datos correctos</description>
        <name>Set_ValoresFormularioVariablesEntrada</name>
        <label>Set Valores del Formulario a Variables de Entrada</label>
        <locationX>1634</locationX>
        <locationY>758</locationY>
        <assignmentItems>
            <assignToReference>EntradaFirstName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenFirstName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaLastName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenLastName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaEmail</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaDocumentType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenDocumentType</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaPersonalDocument</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenDocumentNumber</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaMobilePhone</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaPhone</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_DesactivaMarcasErrores</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>Según sea el registro un lead o un contacto actualizo el sobject correspondiente</description>
        <name>ActualizarLeadOContacto</name>
        <label>Actualizar Lead o Contacto</label>
        <locationX>446</locationX>
        <locationY>1514</locationY>
        <defaultConnector>
            <targetReference>UpdateContact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Es Contact</defaultConnectorLabel>
        <rules>
            <name>EsLead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>idLeadContact</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>00Q</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateLead</targetReference>
            </connector>
            <label>Es Lead</label>
        </rules>
    </decisions>
    <decisions>
        <description>comprobamos si tipo de documento y número de documento están duplicados</description>
        <name>Decision_DocumentoDuplicado</name>
        <label>¿Documento Duplicado?</label>
        <locationX>1502</locationX>
        <locationY>2306</locationY>
        <defaultConnector>
            <targetReference>S01_PantallaDatoContacto</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>DocumentoDuplicado_Si</name>
            <conditionLogic>(1 AND 2 AND 3 AND 4) OR (5 AND 6 AND 7 AND 8)</conditionLogic>
            <conditions>
                <leftValueReference>ContactosDuplicados.document_type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenDocumentType</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ContactosDuplicados.personal_document__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenDocumentNumber</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ContactosDuplicados.document_type__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ContactosDuplicados.personal_document__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.document_type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenDocumentType</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.document_number__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenDocumentNumber</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.document_type__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.document_number__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorNumDocumentoDuplicadoToTrue</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si es el email el campo duplicado</description>
        <name>Decision_EmailDuplicado</name>
        <label>¿Email Duplicado?</label>
        <locationX>1502</locationX>
        <locationY>1406</locationY>
        <defaultConnector>
            <targetReference>Decision_PhoneDuplicado</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>EmailDuplicado_Si</name>
            <conditionLogic>(1 AND 3) OR (2 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>ContactosDuplicados.Email</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenEmail</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.Email</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenEmail</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ContactosDuplicados.Email</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.Email</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorEmailDuplicadoToTrue</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si el email es válido</description>
        <name>Decision_EmailValido</name>
        <label>¿Email Valido?</label>
        <locationX>2294</locationX>
        <locationY>1982</locationY>
        <defaultConnector>
            <targetReference>Set_MostrarErrorEmailTrue</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>EmailValido_Si</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ScreenEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Formula_ValidarEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>S01_PantallaDatoContacto</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Si es un error de validación es que el Número de documento es incorrecto</description>
        <name>Decision_ErrorValidacion</name>
        <label>¿Es un error de validación?</label>
        <locationX>446</locationX>
        <locationY>1730</locationY>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>ErrorValidacion_Si</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Flow.FaultMessage</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>FIELD_CUSTOM_VALIDATION_EXCEPTION</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorNumeroDocumentoInvalido</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si el móvil está duplicado</description>
        <name>Decision_MobilPhoneDuplicado</name>
        <label>¿MobilePhone Duplicado?</label>
        <locationX>1502</locationX>
        <locationY>2006</locationY>
        <defaultConnector>
            <targetReference>Decision_DocumentoDuplicado</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>MobilPhoneDuplicado_Si</name>
            <conditionLogic>(1 AND 2) OR (3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>ContactosDuplicados.MobilePhone</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenMobilePhone</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ContactosDuplicados.MobilePhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.MobilePhone</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenMobilePhone</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.MobilePhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorMovilDuplicadoToTrue</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si el pasaporte validado</description>
        <name>Decision_PasaporteValido</name>
        <label>¿Pasaporte Valido?</label>
        <locationX>2294</locationX>
        <locationY>1682</locationY>
        <defaultConnector>
            <targetReference>Set_MostrarErrorPasaporteFalse</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Si</defaultConnectorLabel>
        <rules>
            <name>Decision_PasaporteValidado_NoValido</name>
            <conditionLogic>1 AND 2 AND 3 AND NOT(4) AND NOT(5) AND 6 AND 7 AND (8 OR 9)</conditionLogic>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentNumber</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PASSPORT</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Supervisor</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Coordinador</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Qualities</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Responsable Contact</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>priorDocumentType</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentNumber</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>priorDocumentNumber</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorPasaporteTrue</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si el teléfono está duplicado</description>
        <name>Decision_PhoneDuplicado</name>
        <label>¿Phone Duplicado?</label>
        <locationX>1502</locationX>
        <locationY>1706</locationY>
        <defaultConnector>
            <targetReference>Decision_MobilPhoneDuplicado</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>PhoneDuplicado_Si</name>
            <conditionLogic>(1 AND 2) OR (3 AND 4)</conditionLogic>
            <conditions>
                <leftValueReference>ContactosDuplicados.Phone</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenPhone</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ContactosDuplicados.Phone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.Phone</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>ScreenPhone</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.Phone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorPhoneDuplicadoToTrue</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si los teléfonos están validados para mostrar el mensaje de error</description>
        <name>Decision_TelefonosValidos</name>
        <label>¿Teléfonos Validos?</label>
        <locationX>2294</locationX>
        <locationY>1082</locationY>
        <defaultConnector>
            <targetReference>Set_MostrarErrorTelefonosTrue</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>TelefonosValidos_Si</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ScreenMobilePhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenPhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Decision_TipoNumeroDocumentoValido</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si mostramos el mensaje de error para la validación de tipo de documento o número de documento</description>
        <name>Decision_TipoNumeroDocumentoValido</name>
        <label>¿Tipo y Numero Documento Valido?</label>
        <locationX>2294</locationX>
        <locationY>1382</locationY>
        <defaultConnector>
            <targetReference>Decision_PasaporteValido</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Si</defaultConnectorLabel>
        <rules>
            <name>TipoNumeroDocumentoValido_FaltaTipoDocumento</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentNumber</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorTipoDocumentoToTrue</targetReference>
            </connector>
            <label>Falta Tipo Documento</label>
        </rules>
        <rules>
            <name>TipoNumeroDocumentoValido_FaltaNumDocumento</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>mostrarErrorNumeroDocumentoToTrue</targetReference>
            </connector>
            <label>Falta Número Documento</label>
        </rules>
        <rules>
            <name>TipoNumeroDocumentoValido_NumDocInvalido</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>For_ScreenDocumentNumberLength</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>9.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorNumeroDocumentoInvalido_Validation</targetReference>
            </connector>
            <label>Número Documento Inválido</label>
        </rules>
    </decisions>
    <decisions>
        <description>Si el WhoId empieza por 00Q es un Lead, si no es un contacto.</description>
        <name>Decision_WhoIdEsLead</name>
        <label>¿El WhoId es un Lead?</label>
        <locationX>1634</locationX>
        <locationY>242</locationY>
        <defaultConnector>
            <targetReference>GetContact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No, Contacto</defaultConnectorLabel>
        <rules>
            <name>WhoIdEsLead_Si</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>idLeadContact</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>00Q</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>GetLead</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Existe Registros duplicados cuando es un contacto</description>
        <name>HayDuplicadosContact</name>
        <label>¿Hay duplicados?</label>
        <locationX>974</locationX>
        <locationY>1298</locationY>
        <defaultConnector>
            <targetReference>Decision_EmailDuplicado</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Si hay duplicados</defaultConnectorLabel>
        <rules>
            <name>NoHayDuplicados</name>
            <conditionLogic>(1 AND 2) OR (3 OR 4)</conditionLogic>
            <conditions>
                <leftValueReference>LeadsDuplicados</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ContactosDuplicados</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>LeadsDuplicados.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>idLeadContact</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ContactosDuplicados.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>idLeadContact</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Headers</targetReference>
            </connector>
            <label>No hay duplicados</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si el campo Teléfono o Móvil están rellenos y que si tipo de documento y número de documento están rellenos ambos o no. También se verifica que si la entrada para  tipo de documento es Pasaporte solo sea posible si el usuario es de alguno de los roles permitidos.</description>
        <name>isValidatedCheck</name>
        <label>¿Se cumplen las validaciones?</label>
        <locationX>1634</locationX>
        <locationY>974</locationY>
        <defaultConnector>
            <targetReference>Decision_TelefonosValidos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>isValidated</name>
            <conditionLogic>(1 OR 2) AND ( ( 3 AND 4 AND NOT(9) ) OR (5 AND 6) OR (3 AND 4 AND (7 OR 8 OR 13 OR 14) AND 9) OR (15 AND 16)) AND (10 OR 11) AND 12</conditionLogic>
            <conditions>
                <leftValueReference>ScreenMobilePhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenPhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentNumber</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Supervisor</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Coordinador</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PASSPORT</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Formula_ValidarEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>For_ScreenDocumentNumberLength</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>9.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Qualities</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Responsable Contact</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>priorDocumentType</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>priorDocumentNumber</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>LeadsDuplicados</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <description>Subflujo para argumentario con datos de contacto o lead. Permite cambiar los datos del contacto o del lead y hace comprobación de duplicados (HEADER dinámico incorporado con imagen como recurso estático y texto de objeto Textos de Argumentarios)
19/10 AMT: Se modifican las cabeceras de las pantallas
21/10 AMT: Se modifican las variables de las cabeceras
27/10 MMV: Control para validar que el número de documento no sea mayor de 9 dígitos
05/11 MHG: Se añade PhoneAux__c y MobilePhoneAux__c para hacer selectiva la consulta de GetRecords de Leads duplicados
28/11 MMV: Cambio para usar IsConverted en lugar de ConvertedContactId
17/04 JLQ: Se añaden los roles definidos como supervisor
09/05/2023 JCB Corrección validación Pasaporte, revisión de asignación variable MostrarErrorPasaporte.</description>
    <dynamicChoiceSets>
        <name>ContactDocumentType</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>document_type__c</picklistField>
        <picklistObject>Contact</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>Variable que almacena el picklist de tipo de documento del objeto Lead</description>
        <name>LeadDocumentType</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>document_type__c</picklistField>
        <picklistObject>Lead</picklistObject>
    </dynamicChoiceSets>
    <formulas>
        <description>Longitud del Número de documento introducido en el formulario</description>
        <name>For_ScreenDocumentNumberLength</name>
        <dataType>Number</dataType>
        <expression>LEN({!ScreenDocumentNumber})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>Comprobamos a través de regex que el email tiene el formato correcto</description>
        <name>Formula_ValidarEmail</name>
        <dataType>Boolean</dataType>
        <expression>REGEX( {!ScreenEmail} , &quot;^\\(([a-zA-Z0-9 _\\-\\.\\+]+)\\)\\ ([a-zA-Z0-9\n&quot; +
               &quot;_\\!\\#\\$\\%\\&amp;amp;\\&apos;\\*\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\\n&quot; +
                &quot;.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\w\n&quot; +
                &quot;_\\!\\#\\$\\%\\&amp;amp;\\&apos;\\*\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3}\n&quot; +
                &quot;)$|^([a-zA-Z0-9 \\w\n&quot; +
                &quot;_\\!\\#\\$\\%\\&amp;amp;\\&apos;\\*\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\\n&quot; +
                &quot;.[0-9]{1,3}\\.)|(([a-zA-Z0-9_\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})$&quot;)</expression>
    </formulas>
    <interviewLabel>Subflujo Pantalla Datos de Contacto {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Subflujo Pantalla Datos de Contacto</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <description>Busco si ya existe un Contacto con esos datos</description>
        <name>ContactosDuplicados</name>
        <label>ContactosDuplicados</label>
        <locationX>974</locationX>
        <locationY>1190</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>HayDuplicadosContact</targetReference>
        </connector>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </filters>
        <filters>
            <field>Phone</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </filters>
        <filters>
            <field>MobilePhone</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </filters>
        <filters>
            <field>document_type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenDocumentType</elementReference>
            </value>
        </filters>
        <filters>
            <field>personal_document__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenDocumentNumber</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>idLeadContact</elementReference>
            </value>
        </filters>
        <filters>
            <field>Email</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Phone</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>MobilePhone</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>personal_document__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>Contact</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Email</queriedFields>
        <queriedFields>MobilePhone</queriedFields>
        <queriedFields>Phone</queriedFields>
        <queriedFields>document_type__c</queriedFields>
        <queriedFields>personal_document__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>Obtenemos el contacto del WhoId</description>
        <name>GetContact</name>
        <label>Get Contact</label>
        <locationX>1766</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>S01_PantallaDatoContacto</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>idLeadContact</elementReference>
            </value>
        </filters>
        <object>Contact</object>
        <outputAssignments>
            <assignToReference>EntradaEmail</assignToReference>
            <field>Email</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaFirstName</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaLastName</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaMobilePhone</assignToReference>
            <field>MobilePhone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaPhone</assignToReference>
            <field>Phone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaDocumentType</assignToReference>
            <field>document_type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaPersonalDocument</assignToReference>
            <field>personal_document__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Obtenemos el Lead del WhoId</description>
        <name>GetLead</name>
        <label>Get Lead</label>
        <locationX>1502</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_PriorDocumentTypeLead</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>idLeadContact</elementReference>
            </value>
        </filters>
        <object>Lead</object>
        <outputAssignments>
            <assignToReference>EntradaEmail</assignToReference>
            <field>Email</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaFirstName</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaLastName</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaMobilePhone</assignToReference>
            <field>MobilePhone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaPhone</assignToReference>
            <field>Phone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaPersonalDocument</assignToReference>
            <field>document_number__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaDocumentType</assignToReference>
            <field>document_type__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Busco si ya existe un Lead con esos datos</description>
        <name>LeadsDuplicados</name>
        <label>LeadsDuplicados</label>
        <locationX>974</locationX>
        <locationY>1082</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>ContactosDuplicados</targetReference>
        </connector>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </filters>
        <filters>
            <field>MobilePhoneAux__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </filters>
        <filters>
            <field>PhoneAux__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </filters>
        <filters>
            <field>document_type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenDocumentType</elementReference>
            </value>
        </filters>
        <filters>
            <field>document_number__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenDocumentNumber</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>idLeadContact</elementReference>
            </value>
        </filters>
        <filters>
            <field>Email</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>MobilePhoneAux__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>PhoneAux__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>document_number__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>IsConverted</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>Lead</object>
        <queriedFields>Id</queriedFields>
        <queriedFields>Email</queriedFields>
        <queriedFields>MobilePhone</queriedFields>
        <queriedFields>Phone</queriedFields>
        <queriedFields>document_type__c</queriedFields>
        <queriedFields>document_number__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>Recoge los textos de Argumentario que se usan en las pantallas de ESTE Flujo</description>
        <name>TextosArgumentario</name>
        <label>TextosArgumentario</label>
        <locationX>1634</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Decision_WhoIdEsLead</targetReference>
        </connector>
        <filters>
            <field>Flujo__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SubflujoPantallaDatodeContacto</stringValue>
            </value>
        </filters>
        <filters>
            <field>Idioma__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.LanguageLocaleKey</elementReference>
            </value>
        </filters>
        <object>TextoArgumentario__c</object>
    </recordLookups>
    <recordUpdates>
        <description>Actualiza el Contacto con los nuevos datos introducidos por pantalla</description>
        <name>UpdateContact</name>
        <label>Update Contact</label>
        <locationX>842</locationX>
        <locationY>1622</locationY>
        <faultConnector>
            <targetReference>Decision_ErrorValidacion</targetReference>
        </faultConnector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>idLeadContact</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>ScreenFirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>ScreenLastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MobilePhone</field>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>document_type__c</field>
            <value>
                <elementReference>ScreenDocumentType</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>personal_document__c</field>
            <value>
                <elementReference>ScreenDocumentNumber</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordUpdates>
    <recordUpdates>
        <description>Actualiza el Lead con los nuevos datos introducidos por Pantalla</description>
        <name>UpdateLead</name>
        <label>Update Lead</label>
        <locationX>50</locationX>
        <locationY>1622</locationY>
        <faultConnector>
            <targetReference>Decision_ErrorValidacion</targetReference>
        </faultConnector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>idLeadContact</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>ScreenFirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>ScreenLastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MobilePhone</field>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>document_number__c</field>
            <value>
                <elementReference>ScreenDocumentNumber</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>document_type__c</field>
            <value>
                <elementReference>ScreenDocumentType</elementReference>
            </value>
        </inputAssignments>
        <object>Lead</object>
    </recordUpdates>
    <screens>
        <name>S01_PantallaDatoContacto</name>
        <label>S01 Pantalla Dato de Contacto</label>
        <locationX>1634</locationX>
        <locationY>650</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Set_ValoresFormularioVariablesEntrada</targetReference>
        </connector>
        <fields>
            <name>S01_Header</name>
            <extensionName>dhfpi:lwcFlowHeaderWithProgress</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>heading</name>
                <value>
                    <elementReference>Var_INOUT_Heading</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>iconSize</name>
                <value>
                    <stringValue>small</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fontSize</name>
                <value>
                    <stringValue>12</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>icon</name>
                <value>
                    <elementReference>Var_INOUT_HeadingIcon</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>subHeading</name>
                <value>
                    <elementReference>Var_INOUT_SubHeading</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>ScreenFirstName</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>EntradaFirstName</elementReference>
            </defaultValue>
            <fieldText>Nombre</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>ScreenLastName</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>EntradaLastName</elementReference>
            </defaultValue>
            <fieldText>Apellidos</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>ScreenMobilePhone</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>EntradaMobilePhone</elementReference>
            </defaultValue>
            <fieldText>Móvil</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>errorMovilDuplicado</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto2__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ScreenPhone</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>EntradaPhone</elementReference>
            </defaultValue>
            <fieldText>Teléfono</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>errorTelefonoDuplicado</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto3__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>errorPhone</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto4__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ScreenEmail</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>EntradaEmail</elementReference>
            </defaultValue>
            <fieldText>Email</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>errorEmailValidado</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto11__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>errorEmailDuplicado</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto5__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ScreenDocumentType</name>
            <choiceReferences>LeadDocumentType</choiceReferences>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>EntradaDocumentType</elementReference>
            </defaultValue>
            <fieldText>Tipo de Documento</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>errorPasaporte</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto6__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>errorDocumentTYpe</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto7__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>ScreenDocumentNumber</name>
            <dataType>String</dataType>
            <defaultValue>
                <elementReference>EntradaPersonalDocument</elementReference>
            </defaultValue>
            <fieldText>Número de Documento</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>errorNumDocumentoDuplicado</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto8__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>errorDocumentNumber</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto9__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>S01_ErrorNumeroDocumentoInvalido</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto10__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <startElementReference>TextosArgumentario</startElementReference>
    <status>Active</status>
    <variables>
        <description>Almacena el valor de entrada para el Document_Type__c</description>
        <name>EntradaDocumentType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Almacena el valor de entrada para el Email</description>
        <name>EntradaEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Almacena el valor de entrada para el First Name</description>
        <name>EntradaFirstName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Almacena el valor de entrada para el Last Name</description>
        <name>EntradaLastName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Almacena el valor de entrada para el MobilePhone</description>
        <name>EntradaMobilePhone</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Almacena el valor de entrada para el Personal_Document__c</description>
        <name>EntradaPersonalDocument</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Almacena el valor de entrada para el Phone</description>
        <name>EntradaPhone</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>idLeadContact</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Variable para indicar si debemos mostrar el mensaje de duplicidad del campo Email</description>
        <name>mostrarErrorEmailDuplicado</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Variable para indicar si debemos mostrar el mensaje de duplicidad del campo Movil</description>
        <name>mostrarErrorMovilDuplicado</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Variable para indicar si debemos mostrar el mensaje de duplicidad del campo Número de Documento</description>
        <name>mostrarErrorNumDocumentoDuplicado</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Variable para indicar si debemos mostrar el mensaje de error del campo Número de Documento</description>
        <name>mostrarErrorNumeroDocumento</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Indica si se muestra el error pasaporte o no</description>
        <name>mostrarErrorPasaporte</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Variable para indicar si debemos mostrar el mensaje de duplicidad del campo Teléfono</description>
        <name>mostrarErrorTelefonoDuplicado</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Boolean que nos indica si mostrar el error del teléfono o no.</description>
        <name>mostrarErrorTelefonos</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Variable para indicar que se debe mostrar el mensaje de error de Tipo de Documento</description>
        <name>mostrarErrorTipoDocumento</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>variable para almacenar valor original del document number del Lead/Cliente</description>
        <name>priorDocumentNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>valor almacenado en Lead o Contacto originalmente</description>
        <name>priorDocumentType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Texto de cabecera que se utiliza además como parámetro de entrada en todos los subflujos y que se muestra en todas las pantallas. Es siempre Available for Input y Output. Es el nombre de la persona con la que estamos hablando y que vendrá del lead o del contacto.</description>
        <name>Var_INOUT_Heading</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Imagen de cabecera que se utiliza además como parámetro de entrada en todos los subflujos y que se muestra en todas las pantallas. Es siempre Available for Input y Output. Es el ícono que se muestra en la cabecera.</description>
        <name>Var_INOUT_HeadingIcon</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Texto de subcabecera que se utiliza además como parámetro de entrada en todos los subflujos y que se muestra en todas las pantallas. Es siempre Available for Input y Output. Es el el interés (Ramo) que se está tratando en ese momento y que depende de dónde provenga el interés.</description>
        <name>Var_INOUT_SubHeading</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Indica si mostrar un mensaje de error o no</description>
        <name>Var_MostrarErrorEmailValidacion</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Indica si se muestra o no el error de número de documento inválido</description>
        <name>Var_MostrarErrorNumeroDocumentoInvalido</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
</Flow>
