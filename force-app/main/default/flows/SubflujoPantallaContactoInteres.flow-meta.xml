<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <assignments>
        <description>Desactiva todas las marcas de errores para que no muestren incorrectamente</description>
        <name>Set_DesactivaMarcasErrores</name>
        <label>Set Desactiva Marcas de Errores</label>
        <locationX>1469</locationX>
        <locationY>1274</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorNumeroDocumento</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorTelefonos</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>mostrarErrorTipoDocumento</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorEmailValidado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorNumeroDocumentoInvalido</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorPasaporte</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>isValidatedCheck</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Se asignan los valores para las variables de las cabeceras.</description>
        <name>Set_Headers</name>
        <label>Set_Headers</label>
        <locationX>446</locationX>
        <locationY>1814</locationY>
        <assignmentItems>
            <assignToReference>Var_INOUT_Heading</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenFirstName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_INOUT_Heading</assignToReference>
            <operator>Add</operator>
            <value>
                <stringValue> </stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Var_INOUT_Heading</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>ScreenLastName</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_EsLead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Fija el Id del Lead o el contacto en la variable que antes entraba por parámetro</description>
        <name>Set_LeadOrContactId</name>
        <label>Set_LeadOrContactId</label>
        <locationX>1337</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>inputRecordId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_CMCTI.LeadOrContactId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>RegistroEsLead</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asignamos true a la variable para que muestre el mensaje de error de Email no validado</description>
        <name>Set_MostrarErrorEmailValidacionTrue</name>
        <label>Set_MostrarErrorEmailValidacionTrue</label>
        <locationX>2118</locationX>
        <locationY>2198</locationY>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorEmailValidado</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_PasaporteValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Activamos la variable para mostrar el error en la pantalla</description>
        <name>Set_MostrarErrorNumeroDocumentoInvalido</name>
        <label>Set Mostrar Error Numero Documento Inválido</label>
        <locationX>314</locationX>
        <locationY>2246</locationY>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorNumeroDocumentoInvalido</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>S01_PantallaDato</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Activamos la variable para mostrar el error en la pantalla</description>
        <name>Set_MostrarErrorNumeroDocumentoInvlido_Validaciones</name>
        <label>Set Mostrar Error Numero Documento Inválido</label>
        <locationX>2162</locationX>
        <locationY>1898</locationY>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorNumeroDocumentoInvalido</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_EmailValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Indicamos que se debe mostrar el mensaje de error para número de documento al asignarle a esta variable el valor true</description>
        <name>Set_MostrarErrorNumeroDocumentoToTrue</name>
        <label>Set Mostrar Error Numero Documento a True</label>
        <locationX>1898</locationX>
        <locationY>1898</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorNumeroDocumento</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_EmailValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_MostrarErrorPasaporteFalse</name>
        <label>Set Mostrar Error Pasaporte False</label>
        <locationX>2162</locationX>
        <locationY>2498</locationY>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorPasaporte</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>S01_PantallaDato</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asignamos True a la variable para que muestre el mensaje de error de pasaporte</description>
        <name>Set_MostrarErrorPasaporteTrue</name>
        <label>Set_MostrarErrorPasaporteTrue</label>
        <locationX>1898</locationX>
        <locationY>2498</locationY>
        <assignmentItems>
            <assignToReference>Var_MostrarErrorPasaporte</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>S01_PantallaDato</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Indicamos que se debe mostrar el mensaje de error de los teléfonos cambiando el valor de esta variable a true</description>
        <name>Set_MostrarErrorTelefonosToTrue</name>
        <label>Set Mostrar Error Telefonos a True</label>
        <locationX>2118</locationX>
        <locationY>1598</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorTelefonos</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_TipoNumeroDocumentoValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Indicamos que se debe mostrar el mensaje de error para tipo de documento asignandole a esta variable el valor true</description>
        <name>Set_MostrarErrorTipoDocumentoToTrue</name>
        <label>Set Mostrar Error Tipo Documento a true</label>
        <locationX>1634</locationX>
        <locationY>1898</locationY>
        <assignmentItems>
            <assignToReference>mostrarErrorTipoDocumento</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Decision_EmailValido</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asigna a variables los valores previos de Document Type y Document Number</description>
        <name>Set_PriorValuesDocument</name>
        <label>Set PriorValuesDocument</label>
        <locationX>1469</locationX>
        <locationY>950</locationY>
        <assignmentItems>
            <assignToReference>priorDocumentType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>EntradaDocumentType</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>priorDocumentNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>EntradaDocumentNumber</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>S01_PantallaDato</targetReference>
        </connector>
    </assignments>
    <assignments>
        <description>Asigna los valores introducidos en el formulario a las variables de entrada</description>
        <name>Set_ValoresFormularioVariablesEntrada</name>
        <label>Set Valores formulario a Variables Entrada</label>
        <locationX>1469</locationX>
        <locationY>1166</locationY>
        <assignmentItems>
            <assignToReference>EntradaFirstName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenFirstName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaLastName</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenLastName</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaBirthDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenBirthDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaCountryOfResidence</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenResidentCountry</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaDocumentNumber</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenDocumentoNumero</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaDocumentType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenTipoDocumento</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaMaritalStatus</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenMaritalStatus</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaMobilePhone</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaPhone</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaNumberOfChildrens</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenNumberOfChildren</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaProfessions</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenProfession</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaGender</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenGender</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>EntradaEmail</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_DesactivaMarcasErrores</targetReference>
        </connector>
    </assignments>
    <decisions>
        <description>Si se recibe como parámetro un CMCTI (para flujos de llamadas salientes), usamos el LeadOrContactId para poblar el Id de Lead o Contacto, esto se hace debido a que puede haber habido conversión en la ejecución del flujo</description>
        <name>Decision_CMCTIRecibido</name>
        <label>Decision_CMCTIRecibido</label>
        <locationX>1469</locationX>
        <locationY>242</locationY>
        <defaultConnector>
            <targetReference>RegistroEsLead</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>CMCTIRecibido_No</defaultConnectorLabel>
        <rules>
            <name>CMCTIRecibido_Si</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Var_IN_CMCTI_Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_CMCTI</targetReference>
            </connector>
            <label>CMCTIRecibido_Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si el email es válido</description>
        <name>Decision_EmailValido</name>
        <label>¿Email Valido?</label>
        <locationX>2030</locationX>
        <locationY>2090</locationY>
        <defaultConnector>
            <targetReference>Set_MostrarErrorEmailValidacionTrue</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>EmailValido_Si</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ScreenEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Formula_ValidarEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Decision_PasaporteValido</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Si ha fallado por una regla de validación mostramos el error del document number</description>
        <name>Decision_ErrorValidacion</name>
        <label>¿Es un error por validación?</label>
        <locationX>446</locationX>
        <locationY>2138</locationY>
        <defaultConnector>
            <targetReference>S01_PantallaDato</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>ErrorValidacion_Si</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Flow.FaultMessage</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>FIELD_CUSTOM_VALIDATION_EXCEPTION</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorNumeroDocumentoInvalido</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Si es un Lead lo actualizamos, si no actualizamos el contacto</description>
        <name>Decision_EsLead</name>
        <label>¿Es un Lead?</label>
        <locationX>446</locationX>
        <locationY>1922</locationY>
        <defaultConnector>
            <targetReference>UpdateContact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>EsLead_Si</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>inputRecordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>00Q</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>UpdateLead</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si el pasaporte validado</description>
        <name>Decision_PasaporteValido</name>
        <label>¿Pasaporte Valido?</label>
        <locationX>2030</locationX>
        <locationY>2390</locationY>
        <defaultConnector>
            <targetReference>Set_MostrarErrorPasaporteFalse</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Si</defaultConnectorLabel>
        <rules>
            <name>PasaporteValido_No</name>
            <conditionLogic>1 AND 2 AND 3 AND NOT(4) AND NOT(5) AND 6 AND 7 AND (8 OR 9)</conditionLogic>
            <conditions>
                <leftValueReference>ScreenTipoDocumento</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentoNumero</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenTipoDocumento</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PASSPORT</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Supervisor</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Coordinador</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Qualities</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Responsable Contact</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>priorDocumentType</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>EntradaDocumentType</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>priorDocumentNumber</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>EntradaDocumentNumber</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorPasaporteTrue</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si los teléfonos están validados para mostrar el mensaje de error</description>
        <name>Decision_TelefonosValidos</name>
        <label>¿Telefonos validos?</label>
        <locationX>2030</locationX>
        <locationY>1490</locationY>
        <defaultConnector>
            <targetReference>Set_MostrarErrorTelefonosToTrue</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>TelefonosValidos_Si</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>ScreenMobilePhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenPhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Decision_TipoNumeroDocumentoValido</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si mostramos el mensaje de error para la validación de tipo de documento o número de documento</description>
        <name>Decision_TipoNumeroDocumentoValido</name>
        <label>¿Tipo y Numero Documento Valido?</label>
        <locationX>2030</locationX>
        <locationY>1790</locationY>
        <defaultConnector>
            <targetReference>Decision_EmailValido</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Si</defaultConnectorLabel>
        <rules>
            <name>TipoNumeroDocumentoValido_FaltaTipoDocumento</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ScreenTipoDocumento</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentoNumero</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorTipoDocumentoToTrue</targetReference>
            </connector>
            <label>Falta Tipo Documento</label>
        </rules>
        <rules>
            <name>TipoNumeroDocumentoValido_FaltaNumDocumento</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ScreenTipoDocumento</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentoNumero</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorNumeroDocumentoToTrue</targetReference>
            </connector>
            <label>Falta Numero Documento</label>
        </rules>
        <rules>
            <name>TipoNumeroDocumentoValido_ErrorNumeroDocumento</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>For_NumDocumentoLenght</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>9.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_MostrarErrorNumeroDocumentoInvlido_Validaciones</targetReference>
            </connector>
            <label>Error Numero Documento</label>
        </rules>
    </decisions>
    <decisions>
        <description>Si hay duplicados</description>
        <name>HayDuplicados</name>
        <label>¿Hay Duplicados?</label>
        <locationX>908</locationX>
        <locationY>1706</locationY>
        <defaultConnector>
            <targetReference>S02_Registroduplicado</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Si</defaultConnectorLabel>
        <rules>
            <name>NoHayDuplicados</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>BuscaLeadsDuplicados</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>BuscaContactosDuplicados</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Headers</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <description>Comprobamos si el campo Teléfono o Movil están rellenos y que si tipo de documento y número de documento están rellenos ambos o no</description>
        <name>isValidatedCheck</name>
        <label>¿Se cumplen las validaciones?</label>
        <locationX>1469</locationX>
        <locationY>1382</locationY>
        <defaultConnector>
            <targetReference>Decision_TelefonosValidos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>isValidated</name>
            <conditionLogic>(1 OR 2) AND ((3 AND 4 AND NOT(9)) OR (5 AND 6) OR (3 AND 4 AND (7 OR 8 OR 13 OR 14) AND 9) OR (15 AND 16)) AND (10 OR 11) AND 12</conditionLogic>
            <conditions>
                <leftValueReference>ScreenMobilePhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenPhone</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenTipoDocumento</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentoNumero</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenTipoDocumento</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenDocumentoNumero</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Supervisor</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Coordinador</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenTipoDocumento</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>PASSPORT</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Formula_ValidarEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ScreenEmail</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue></stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>For_NumDocumentoLenght</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>9.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Qualities</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$UserRole.Name</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <stringValue>Responsable Contact</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>priorDocumentType</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>EntradaDocumentType</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>priorDocumentNumber</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>EntradaDocumentNumber</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>BuscaLeadsDuplicados</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <decisions>
        <description>Si el registro input es un Lead</description>
        <name>RegistroEsLead</name>
        <label>¿El Registro es un Lead?</label>
        <locationX>1469</locationX>
        <locationY>650</locationY>
        <defaultConnector>
            <targetReference>GetContact</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>SiRegistroEsLead</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>inputRecordId</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>00Q</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Lead</targetReference>
            </connector>
            <label>Si</label>
        </rules>
    </decisions>
    <description>Muestra los datos del Lead o Contacto con el Interés elegido, ya sea de CM MKT o de MC AG. Se cambia para que admita el CMCTI en vez del id del Lead o Contacto (sino no funciona cuando hay conversión)

01/09: Asignación de datos introducidos a las variables de entrada
05/09: Corregidos header erróneos
14/09: Ahora al modificar el email se guarda en el Lead o Contacto
20/09 MHG: CAMBIOS DE ORDEN DE PANTALLAS este subflujo ya no recibe los intereses ni muestra/modifica sus datos, para ver lo que hacía antes es necesario revisar las versiones previas a esta
26/09 MHG: Actualizado a API 55 (por bug en el despliegue para las secciones en las pantallas)
19/10 AMT: Cambios en las cabeceras de las pantallas
21/10 AMT: Se modifican las variables de las cabeceras
27/10 MMV: Control para validar que el Número de Documento no tenga más de 9 dígitos
05/11 MHG: Se añade PhoneAux__c y MobilePhoneAux__c para hacer selectiva la consulta de GetRecords de Leads duplicados Namespace Prefix
28/11 MMV: Cambio para usar IsConverted en lugar de ConvertedContactId
18/04 JLQ: Se añaden los roles definidos como supervisor
09/05/2023 JCB Corrección validación Pasaporte, revisión de asignación variable MostrarErrorPasaporte.</description>
    <dynamicChoiceSets>
        <description>Picklist con los valores del campo Tipo de Documento del objeto Lead</description>
        <name>picklistDocumentTypeValues</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>document_type__c</picklistField>
        <picklistObject>Lead</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>Picklist con los valores del campo Estado Civil del objeto Lead</description>
        <name>picklistEstadoCivilValues</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>MaritalStatus__c</picklistField>
        <picklistObject>Lead</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>Picklist con los valores del campo número de hijos del objeto Lead</description>
        <name>picklistNumHijosValue</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>NumberOfChildren__c</picklistField>
        <picklistObject>Lead</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>Picklist con los valores del campo Pais Residencia del objeto Lead</description>
        <name>picklistPaisResidenciaValues</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>CountryOfResidence__c</picklistField>
        <picklistObject>Lead</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>Picklist con los valores del campo Sexo del objeto Lead</description>
        <name>picklistSexoValues</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>gender__c</picklistField>
        <picklistObject>Lead</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <description>Picklist del campo Tipo de mercancía de Campaign Member y Miembro de Campaña</description>
        <name>TipoMercanciaPicklist</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>MerchandiseType__c</picklistField>
        <picklistObject>CampaignMember</picklistObject>
    </dynamicChoiceSets>
    <formulas>
        <description>Número de dígitos del Número de documento introducido en el formulario</description>
        <name>For_NumDocumentoLenght</name>
        <dataType>Number</dataType>
        <expression>LEN({!ScreenDocumentoNumero})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <description>Comprobamos a través de regex que el email tiene el formato correcto</description>
        <name>Formula_ValidarEmail</name>
        <dataType>Boolean</dataType>
        <expression>REGEX( {!ScreenEmail} , &quot;^\\(([a-zA-Z0-9 _\\-\\.\\+]+)\\)\\ ([a-zA-Z0-9\n&quot; +
               &quot;_\\!\\#\\$\\%\\&amp;amp;\\&apos;\\*\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\\n&quot; +
                &quot;.[0-9]{1,3}\\.)|(([a-zA-Z0-9\\w\n&quot; +
                &quot;_\\!\\#\\$\\%\\&amp;amp;\\&apos;\\*\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3}\n&quot; +
                &quot;)$|^([a-zA-Z0-9 \\w\n&quot; +
                &quot;_\\!\\#\\$\\%\\&amp;amp;\\&apos;\\*\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\\n&quot; +
                &quot;.[0-9]{1,3}\\.)|(([a-zA-Z0-9_\\-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})$&quot;)</expression>
    </formulas>
    <interviewLabel>Subflujo Pantalla de Contacto e Interes {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Subflujo Pantalla de Contacto e Interes</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <description>Busca Contactos con los mismos datos introducidos</description>
        <name>BuscaContactosDuplicados</name>
        <label>Busca Contactos Duplicados</label>
        <locationX>908</locationX>
        <locationY>1598</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>HayDuplicados</targetReference>
        </connector>
        <filters>
            <field>Email</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </filters>
        <filters>
            <field>Phone</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Phone</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </filters>
        <filters>
            <field>MobilePhone</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>MobilePhone</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </filters>
        <filters>
            <field>personal_document__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>document_type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenTipoDocumento</elementReference>
            </value>
        </filters>
        <filters>
            <field>personal_document__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenDocumentoNumero</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>inputRecordId</elementReference>
            </value>
        </filters>
        <object>Contact</object>
    </recordLookups>
    <recordLookups>
        <description>Busca Leads con los mismo datos introducidos</description>
        <name>BuscaLeadsDuplicados</name>
        <label>Busca Leads Duplicados</label>
        <locationX>908</locationX>
        <locationY>1490</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>BuscaContactosDuplicados</targetReference>
        </connector>
        <filters>
            <field>Email</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </filters>
        <filters>
            <field>MobilePhoneAux__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>MobilePhoneAux__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </filters>
        <filters>
            <field>PhoneAux__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>PhoneAux__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </filters>
        <filters>
            <field>document_number__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>document_type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenTipoDocumento</elementReference>
            </value>
        </filters>
        <filters>
            <field>document_number__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ScreenDocumentoNumero</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>inputRecordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsConverted</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>Lead</object>
    </recordLookups>
    <recordLookups>
        <description>Obtiene el Campaign Member CTI a partir de su ID que entra como parámetro</description>
        <name>Get_CMCTI</name>
        <label>Get CM CTI</label>
        <locationX>1337</locationX>
        <locationY>350</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_LeadOrContactId</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Var_IN_CMCTI_Id</elementReference>
            </value>
        </filters>
        <object>CampaignMember</object>
    </recordLookups>
    <recordLookups>
        <description>Obtenemos el Lead a mostrar y metermos los campos en unas variables que se muestra en pantalla</description>
        <name>Get_Lead</name>
        <label>Get Lead</label>
        <locationX>1337</locationX>
        <locationY>758</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_PriorValuesDocument</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>inputRecordId</elementReference>
            </value>
        </filters>
        <object>Lead</object>
        <outputAssignments>
            <assignToReference>EntradaCountryOfResidence</assignToReference>
            <field>CountryOfResidence__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaEmail</assignToReference>
            <field>Email</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaFirstName</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaLastName</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaMaritalStatus</assignToReference>
            <field>MaritalStatus__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaMobilePhone</assignToReference>
            <field>MobilePhone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaNumberOfChildrens</assignToReference>
            <field>NumberOfChildren__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaPhone</assignToReference>
            <field>Phone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaProfessions</assignToReference>
            <field>Professions__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaBirthDate</assignToReference>
            <field>birthdate__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaDocumentNumber</assignToReference>
            <field>document_number__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaDocumentType</assignToReference>
            <field>document_type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaGender</assignToReference>
            <field>gender__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Obtenemos el contacto con los datos a mostrar y los almacenamos en variables separadas</description>
        <name>GetContact</name>
        <label>Get Contact</label>
        <locationX>1601</locationX>
        <locationY>758</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_PriorValuesDocument</targetReference>
        </connector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>inputRecordId</elementReference>
            </value>
        </filters>
        <object>Contact</object>
        <outputAssignments>
            <assignToReference>EntradaCountryOfResidence</assignToReference>
            <field>CountryOfResidence__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaEmail</assignToReference>
            <field>Email</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaFirstName</assignToReference>
            <field>FirstName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaLastName</assignToReference>
            <field>LastName</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaMaritalStatus</assignToReference>
            <field>MaritalStatus__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaMobilePhone</assignToReference>
            <field>MobilePhone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaNumberOfChildrens</assignToReference>
            <field>NumberOfChildren__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaPhone</assignToReference>
            <field>Phone</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaProfessions</assignToReference>
            <field>Professions__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaBirthDate</assignToReference>
            <field>birthdate__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaDocumentType</assignToReference>
            <field>document_type__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaGender</assignToReference>
            <field>gender__c</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>EntradaDocumentNumber</assignToReference>
            <field>personal_document__c</field>
        </outputAssignments>
    </recordLookups>
    <recordLookups>
        <description>Recoge los textos de Argumentario que se usan en las pantallas de ESTE Flujo</description>
        <name>TextosArgumentario</name>
        <label>TextosArgumentario</label>
        <locationX>1469</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Decision_CMCTIRecibido</targetReference>
        </connector>
        <filters>
            <field>Flujo__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>SubflujoPantallaContactoInteres</stringValue>
            </value>
        </filters>
        <filters>
            <field>Idioma__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$User.LanguageLocaleKey</elementReference>
            </value>
        </filters>
        <object>TextoArgumentario__c</object>
    </recordLookups>
    <recordUpdates>
        <description>Actualiza el contacto con los cambios en la patalla</description>
        <name>UpdateContact</name>
        <label>Update Contact</label>
        <locationX>842</locationX>
        <locationY>2030</locationY>
        <faultConnector>
            <targetReference>Decision_ErrorValidacion</targetReference>
        </faultConnector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>inputRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CountryOfResidence__c</field>
            <value>
                <elementReference>ScreenResidentCountry</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>ScreenFirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>ScreenLastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MaritalStatus__c</field>
            <value>
                <elementReference>ScreenMaritalStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MobilePhone</field>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>NumberOfChildren__c</field>
            <value>
                <elementReference>ScreenNumberOfChildren</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Professions__c</field>
            <value>
                <elementReference>ScreenProfession</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>birthdate__c</field>
            <value>
                <elementReference>ScreenBirthDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>document_type__c</field>
            <value>
                <elementReference>ScreenTipoDocumento</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>gender__c</field>
            <value>
                <elementReference>ScreenGender</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>personal_document__c</field>
            <value>
                <elementReference>ScreenDocumentoNumero</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordUpdates>
    <recordUpdates>
        <description>Actualiza el Lead con los cambios de la pantalla</description>
        <name>UpdateLead</name>
        <label>Update Lead</label>
        <locationX>50</locationX>
        <locationY>2030</locationY>
        <faultConnector>
            <targetReference>Decision_ErrorValidacion</targetReference>
        </faultConnector>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>inputRecordId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>CountryOfResidence__c</field>
            <value>
                <elementReference>ScreenResidentCountry</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>ScreenEmail</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>ScreenFirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>ScreenLastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MaritalStatus__c</field>
            <value>
                <elementReference>ScreenMaritalStatus</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>MobilePhone</field>
            <value>
                <elementReference>ScreenMobilePhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>NumberOfChildren__c</field>
            <value>
                <elementReference>ScreenNumberOfChildren</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>ScreenPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Professions__c</field>
            <value>
                <elementReference>ScreenProfession</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>birthdate__c</field>
            <value>
                <elementReference>ScreenBirthDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>document_number__c</field>
            <value>
                <elementReference>ScreenDocumentoNumero</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>document_type__c</field>
            <value>
                <elementReference>ScreenTipoDocumento</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>gender__c</field>
            <value>
                <elementReference>ScreenGender</elementReference>
            </value>
        </inputAssignments>
        <object>Lead</object>
    </recordUpdates>
    <screens>
        <name>S01_PantallaDato</name>
        <label>S01 Pantalla Datos</label>
        <locationX>1469</locationX>
        <locationY>1058</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Set_ValoresFormularioVariablesEntrada</targetReference>
        </connector>
        <fields>
            <name>S01_Header</name>
            <extensionName>dhfpi:lwcFlowHeaderWithProgress</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>heading</name>
                <value>
                    <elementReference>Var_INOUT_Heading</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>iconSize</name>
                <value>
                    <stringValue>small</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fontSize</name>
                <value>
                    <stringValue>12</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>icon</name>
                <value>
                    <elementReference>Var_INOUT_HeadingIcon</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>subHeading</name>
                <value>
                    <elementReference>Var_INOUT_SubHeading</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>ContactInformation</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;background-color: rgb(255, 255, 255); color: rgb(15, 61, 92); font-family: Roboto, sans-serif; font-size: 12pt;&quot;&gt;{!TextosArgumentario.Texto1__c}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>PersonalData</name>
            <fieldText>Datos personales</fieldText>
            <fieldType>RegionContainer</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>ContactDta</name>
            <fieldText>Datos de Contacto</fieldText>
            <fieldType>RegionContainer</fieldType>
            <isRequired>false</isRequired>
        </fields>
        <fields>
            <name>errorPhone</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto4__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <description>Pantalla que indica un mensaje de error de que ya hay un registro duplicado con esos datos</description>
        <name>S02_Registroduplicado</name>
        <label>Pantalla Registro Duplicado</label>
        <locationX>1370</locationX>
        <locationY>1814</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>S01_PantallaDato</targetReference>
        </connector>
        <fields>
            <name>S02_Header</name>
            <extensionName>dhfpi:lwcFlowHeaderWithProgress</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>heading</name>
                <value>
                    <elementReference>Var_INOUT_Heading</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>currentStage</name>
                <value>
                    <elementReference>$Flow.CurrentStage</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>iconSize</name>
                <value>
                    <stringValue>small</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>fontSize</name>
                <value>
                    <stringValue>12</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>icon</name>
                <value>
                    <elementReference>Var_INOUT_HeadingIcon</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>stages</name>
                <value>
                    <elementReference>$Flow.ActiveStages</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>subHeading</name>
                <value>
                    <elementReference>Var_INOUT_SubHeading</elementReference>
                </value>
            </inputParameters>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>MensajeErrorDuplicado</name>
            <fieldText>&lt;p&gt;{!TextosArgumentario.Texto6__c}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <startElementReference>TextosArgumentario</startElementReference>
    <status>Active</status>
    <variables>
        <description>Contiene el BirthDate del LEad o del Contact</description>
        <name>EntradaBirthDate</name>
        <dataType>Date</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el CountryOfresidence del Lead o Contact</description>
        <name>EntradaCountryOfResidence</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el Doc Number del LEad o del Contact</description>
        <name>EntradaDocumentNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el DocumentType del LEad o del Contacto</description>
        <name>EntradaDocumentType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Variable que almacena el dato inicial del Lead o del Contacto</description>
        <name>EntradaEmail</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Variable que contiene el FirstName inicial del Lead o el Contacto</description>
        <name>EntradaFirstName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el Gender del Lead o del Contact</description>
        <name>EntradaGender</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el Lastname inicial del Lead o Contacto</description>
        <name>EntradaLastName</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el MaritalStatus del Lead o Contact</description>
        <name>EntradaMaritalStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el MobilPhone del Lead o del Contacto</description>
        <name>EntradaMobilePhone</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el NumberOfChildrens del Lead o del Contacto</description>
        <name>EntradaNumberOfChildrens</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene el Phone del Lead o del Contacto</description>
        <name>EntradaPhone</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Contiene Professions del Lead o del Contacto</description>
        <name>EntradaProfessions</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Parámetro de entrada con el Id del registro a mostrar, ya sea Lead o Contacto</description>
        <name>inputRecordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Variable que indica que se debe mostrar el mensaje de error para la validación de Número de Documento</description>
        <name>mostrarErrorNumeroDocumento</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Variable que indica que se debe mostrar el mensaje de error para la validación de los teléfonos</description>
        <name>mostrarErrorTelefonos</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Variable que indica que se debe mostrar el mensaje de error para la validación de Tipo de Documento</description>
        <name>mostrarErrorTipoDocumento</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>priorDocumentNumber</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>priorDocumentType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Campaign Member de CTI del flujo principal. Por algún motivo este flujo esperaba el lead o el contacto en vez de recuperar el CM_CTI actualizado, lo que en caso de conversión hace que no funcione correctamente.</description>
        <name>Var_IN_CMCTI_Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Texto de cabecera que se utiliza además como parámetro de entrada en todos los subflujos y que se muestra en todas las pantallas. Es siempre Available for Input y Output. Es el nombre de la persona con la que estamos hablando y que vendrá del lead o del contacto.</description>
        <name>Var_INOUT_Heading</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Imagen de cabecera que se utiliza además como parámetro de entrada en todos los subflujos y que se muestra en todas las pantallas. Es siempre Available for Input y Output. Es el ícono que se muestra en la cabecera.</description>
        <name>Var_INOUT_HeadingIcon</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Texto de subcabecera que se utiliza además como parámetro de entrada en todos los subflujos y que se muestra en todas las pantallas. Es siempre Available for Input y Output. Es el el interés (Ramo) que se está tratando en ese momento y que depende de dónde provenga el interés.</description>
        <name>Var_INOUT_SubHeading</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <description>Indica si se debe mostrar el mensaje de error de validacion para email</description>
        <name>Var_MostrarErrorEmailValidado</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Si está marcada se muestra el error en la pantalla</description>
        <name>Var_MostrarErrorNumeroDocumentoInvalido</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Variable que nos indica si mostrar el mensaje de error para pasaporte</description>
        <name>Var_MostrarErrorPasaporte</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
</Flow>
